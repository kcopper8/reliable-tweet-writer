webpackJsonp([1],{"49Iz":function(t,e){},"7zck":function(t,e){},B4Lp:function(t,e){},Hf32:function(t,e){},M7LQ:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),i=n("NYxO"),a=n("3EgV"),o=n.n(a),s=(n("7zck"),{render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]}),l=n("VU/8")({name:"App"},s,!1,null,null,null).exports,c=n("/ocq"),d=n("Dd8w"),u=n.n(d);var v={data:function(){return{toReplyTweet:this.$store.getters.editing.replyId,open:!0,validText:""}},computed:{valid:function(){return/^\d+$/.test(this.toReplyTweet)}},methods:{confirm:function(){this.toReplyTweet&&this.$store.commit("setCurrentThreadReplyId",this.toReplyTweet),this.$emit("close")},remove:function(){this.$store.commit("setCurrentThreadReplyId",null),this.$emit("close")}},watch:{toReplyTweet:function(){var t,e;this.toReplyTweet=(t=this.toReplyTweet,(e=/^(?:https:\/\/)?twitter.com\/[^/]+\/status\/(\d+)/.exec(t))?e[1]:t)}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:""},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Reply")])]),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{label:"tweet to reply","multi-line":"",rows:"2"},model:{value:t.toReplyTweet,callback:function(e){t.toReplyTweet=e},expression:"toReplyTweet"}})],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{flat:"",color:"error"},on:{click:t.remove}},[t._v("Remove")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{flat:"",color:"primary",disabled:!t.valid},on:{click:t.confirm}},[t._v("Confirm")])],1)],1)],1)},staticRenderFns:[]};var p=n("VU/8")(v,h,!1,function(t){n("49Iz")},null,null).exports,f=n("hU7x"),m=n.n(f),g={props:["open"],data:function(){return{grammerResult:"",error:""}},mounted:function(){var t=this,e="https://m.search.naver.com/p/csearch/dcontent/spellchecker.nhn?q="+encodeURIComponent(this.$store.getters.editing.text);m()(e,{param:"_callback"},function(e,n){e?t.error=e:t.grammerResult=n.message.result.html})},methods:{apply:function(){this.$store.commit("setCurrentThreadText",this.$refs.result.innerText),this.toggle(!1)},toggle:function(t){this.$emit("update:open",t)}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.open},on:{input:function(e){t.toggle(e)}}},[n("v-alert",{attrs:{color:"error",value:t.error}},[t._v("\n    "+t._s(t.error)+"\n  ")]),t._v(" "),n("v-card",[n("v-card-title",[n("h3",{staticClass:"headline mb-0"},[t._v("Check Grammer")])]),t._v(" "),n("v-card-text",{ref:"result",domProps:{innerHTML:t._s(t.grammerResult)}}),t._v(" "),n("v-card-actions",[n("v-btn",{on:{click:function(e){t.toggle(!1)}}},[t._v("close")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{disabled:!t.grammerResult,color:"primary"},on:{click:t.apply}},[t._v("apply")])],1)],1)],1)},staticRenderFns:[]};var w=n("VU/8")(g,_,!1,function(t){n("Hf32")},null,null).exports,x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{app:"",dense:"",color:"light-blue",dark:""}},[n("v-toolbar-title",[t._v("Editor")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){t.$emit("selectAll")}}},[n("v-icon",[t._v("select_all")])],1),t._v(" "),n("v-tooltip",{attrs:{left:""}},[n("v-btn",{attrs:{slot:"activator",icon:"",href:t.tweetIntentUrl},slot:"activator"},[n("i",{staticClass:"fab icon fa-twitter",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("span",[t._v("Tweet")])],1),t._v(" "),n("v-menu",{attrs:{bottom:"",left:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[n("v-icon",[t._v("more_vert")])],1),t._v(" "),n("v-list",[n("v-list-tile",{on:{click:function(e){t.$emit("newThread")}}},[n("v-list-tile-action",[n("v-icon",[t._v("add")])],1),t._v(" "),n("v-list-tile-title",[t._v("New")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.$emit("setReply")}}},[n("v-list-tile-action",[n("v-icon",[t._v("reply")])],1),t._v(" "),n("v-list-tile-title",[t._v("Reply")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.$emit("grammer")}}},[n("v-list-tile-action",[n("v-icon",[t._v("live_help")])],1),t._v(" "),n("v-list-tile-title",[t._v("Grammer")])],1)],1)],1)],1)},staticRenderFns:[]},y=n("VU/8")({props:["tweetIntentUrl"]},x,!1,null,null,null).exports,I={name:"rtw-editor",data:function(){return{replyDialog:!1,grammerDialog:!1}},computed:u()({tweetIntentUrl:function(){var t="";return this.editing.replyId&&(t="&in_reply_to="+this.editing.replyId),"https://twitter.com/intent/tweet?text="+encodeURIComponent(this.editing.text)+t}},Object(i.b)(["editing"])),methods:{updateMessage:function(t){this.$store.commit("setCurrentThreadText",t)},refreshData:function(){this.replyDialog=!1},newThread:function(){this.$store.commit("newThread")},grammer:function(){this.grammerDialog=!0},removeReplyId:function(){this.$store.commit("setCurrentThreadReplyId",null)},closeReplyDialog:function(){this.refreshData()},selectAll:function(){this.$refs.textarea.$refs.input.select()}},components:{RtwEditorToolbar:y,RtwReplyDialog:p,RtwCheckGrammerDialog:w}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("rtw-editor-toolbar",{attrs:{tweetIntentUrl:t.tweetIntentUrl},on:{setReply:function(e){t.replyDialog=!0},grammer:t.grammer,newThread:t.newThread,selectAll:t.selectAll}}),t._v(" "),t.replyDialog?n("rtw-reply-dialog",{on:{close:t.closeReplyDialog}}):t._e(),t._v(" "),t.grammerDialog?n("rtw-check-grammer-dialog",{attrs:{open:t.grammerDialog},on:{"update:open":function(e){t.grammerDialog=e}}}):t._e(),t._v(" "),n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":"","pa-0":""}},[n("v-layout",{attrs:{column:""}},[n("v-flex",[t.editing.replyId?n("v-subheader",[n("span",[t._v("Reply to "+t._s(t.editing.replyId))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:t.removeReplyId}},[n("v-icon",[t._v("delete")])],1)],1):t._e()],1),t._v(" "),n("v-flex",{attrs:{"fill-height":""}},[n("v-text-field",{ref:"textarea",staticClass:"editext",staticStyle:{height:"100%"},attrs:{"hide-details":"","full-width":"",label:"Tweet Contents","multi-line":"",value:t.editing.text,autofocus:""},on:{input:t.updateMessage}})],1)],1)],1)],1),t._v(" "),n("rtw-bottom-nav")],1)},staticRenderFns:[]};var T=n("VU/8")(I,b,!1,function(t){n("M7LQ")},null,null).exports,R=n("woOf"),k=n.n(R),$={name:"rtw-thread-list",computed:{threadList:function(){var t=this;return this.$store.state.threads.map(function(e){return k()({isActive:e.id===t.editingIndex},e)})},editingIndex:function(){return this.$store.state.editingIndex}},methods:{load:function(t){this.$store.commit("setCurrent",t),L.push("/")},clear:function(t){this.$store.commit("delete",t)}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-toolbar",{attrs:{app:"",dense:"",color:"light-blue",dark:""}},[n("v-toolbar-title",[t._v("Thread List")])],1),t._v(" "),n("v-content",[n("v-list",t._l(t.threadList,function(e){return n("v-list-tile",{key:e.id,on:{click:function(n){t.load(e.id)}},model:{value:e.isActive,callback:function(n){t.$set(e,"isActive",n)},expression:"thread.isActive"}},[n("v-list-tile-content",[n("v-list-tile-title",[e.replyId?n("strong",[t._v("Re:")]):t._e(),t._v("\n            "+t._s(e.text)+"\n          ")])],1),t._v(" "),n("v-list-tile-action",[n("v-btn",{attrs:{icon:""},on:{click:function(n){n.stopPropagation(),t.clear(e.id)}}},[n("v-icon",{attrs:{large:""}},[t._v("delete")])],1)],1)],1)}))],1),t._v(" "),n("rtw-bottom-nav")],1)},staticRenderFns:[]},D=n("VU/8")($,C,!1,null,null,null).exports;r.a.use(c.a);var L=new c.a({routes:[{path:"/",name:T.name,component:T},{path:"/threads",name:D.name,component:D}]}),U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-nav",{attrs:{app:"",value:"true",color:"light-blue"}},[n("v-btn",{attrs:{value:"Editor",to:"/",exact:"",color:"white",dark:""}},[n("span",[t._v("Editor")]),t._v(" "),n("v-icon",[t._v("create")])],1),t._v(" "),n("v-btn",{attrs:{value:"ThreadList",to:"/threads",dark:""}},[n("span",[t._v("Threads")]),t._v(" "),n("v-badge",[n("v-icon",[t._v("view_list")]),t._v(" "),n("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.threadCount))])],1)],1)],1)},staticRenderFns:[]};var E=n("VU/8")({name:"rtw-bottom-nav",computed:{threadCount:function(){return this.$store.state.threads.length}}},U,!1,function(t){n("B4Lp")},null,null).exports,A=n("mvHQ"),F=n.n(A),V=window.localStorage||{},H=n("d7EF"),M=n.n(H),S=n("W3Iv"),N=n.n(S),O=n("fZjL"),W=n.n(O),z=n("Zrlr"),j=n.n(z),G=n("wxAW"),P=n.n(G);var Q=new(function(){function t(e){j()(this,t),this.storage=e||window.localStorage||{}}return P()(t,null,[{key:"build",value:function(){return new t}},{key:"buildWithStorage",value:function(e){return new t(e)}}]),P()(t,[{key:"migrate",value:function(){var t=this;if("1.2"!==this.storage["rtw.version"]&&(this.storage.lastText?(this._data={editingIndex:0,threads:[{id:0,text:this.storage.lastText}]},delete this.storage.lastText):"1.1"===this.storage["rtw.version"]&&(this._data={editingIndex:this._currentThreadId,threads:this._threadList11()},this.storage.clear?this.storage.clear():W()(this.storage).forEach(function(e){t.storage[e]=void 0,delete t.storage[e]}))),!this._data)try{this._data=JSON.parse(this.storage.rtwData)}catch(t){this._data={editingIndex:0,threads:[]}}this.storage.rtwData=F()(this._data),this.storage["rtw.version"]="1.2"}},{key:"_threadList11",value:function(){var t=this;return N()(this.storage).filter(function(t){return t[0].startsWith("thread.")}).map(function(e){var n=M()(e,2),r=n[0],i=n[1],a=function(t){return parseInt(t.substr("thread.".length),10)}(r);return{id:a,text:i,replyId:t.storage[function(t){return"replyId."+t}(a)]}})}},{key:"threadList",value:function(){return this._data.threads}},{key:"getCurrentThreadId",value:function(){return this._data.editingIndex}},{key:"_currentThreadId",set:function(t){this.storage.currentThreadId=t},get:function(){return this.storage.currentThreadId||(this._currentThreadId=0),parseInt(this.storage.currentThreadId,10)}}]),t}());Q.migrate();var q=Q;function B(t){return{id:t,text:"",replyId:null}}var J={state:{editingIndex:q.getCurrentThreadId(),threads:q.threadList()},plugins:[function(t){t.subscribe(function(t,e){V.rtwData=F()(e)})}],getters:{editing:function(t){var e=t.threads.find(function(e){return e.id===t.editingIndex});return e||{}}},mutations:{newThread:function(t){var e=B(t.threads.reduce(function(t,e){return e.id>t?e.id:t},t.editingIndex)+1);t.threads.push(e),t.editingIndex=e.id},setCurrentThreadText:function(t,e){var n=t.threads.find(function(e){return e.id===t.editingIndex});n||(n=B(t.editingIndex),t.threads.push(n)),n.text=e},setCurrentThreadReplyId:function(t,e){var n=t.threads.find(function(e){return e.id===t.editingIndex});n||(n=B(t.editingIndex),t.threads.push(n)),n.replyId=e||null},delete:function(t,e){if(t.editingIndex===e){var n=t.threads.find(function(e){return e.id===t.editingIndex});n.replyId=null,n.text=""}else t.threads=t.threads.filter(function(t){return t.id!==e})},setCurrent:function(t,e){t.threads.find(function(t){return t.id===e})?t.editingIndex=e:t.threads.find(function(e){return e.id===t.editingIndex})||(t.threadList.length>0?t.editingIndex=t.threadList[0].id:t.editingIndex=null)}},actions:{},strict:!1};r.a.use(i.a);var Z=new i.a.Store(J);r.a.config.productionTip=!1,r.a.use(i.a),r.a.use(o.a),r.a.component(E.name,E),new r.a({el:"#app",store:Z,router:L,components:{App:l},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.b80b92ff1f060b05e4fe.js.map